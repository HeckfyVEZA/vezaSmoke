import streamlit as st
import pandas as pd
import re
import io
import datetime
import random
import ssl
import certifi
context = ssl.create_default_context(cafile=certifi.where())
suffi = (sum(list(map(int, datetime.datetime.now().strftime("%d%m%Y"))))*random.randint(10000, 99999))%random.randint(100,999)+random.randint(1,random.randint(10,137))
st.set_page_config(layout="wide")
MU = 0.64
PHI = 0.4
ETHA = 0.9
ALPHA = 0.012
CP = 1.09
G = 9.81
def rasschet_mosh(first_window_data, moshnost):
    fwd = list(map(float, first_window_data))
    Qk = (1 - PHI) * float(moshnost)
    h0 = 0.166 * (Qk**0.4)
    Gk = 0.071*(Qk**(1/3))*(fwd[3]**(5/3)) + 0.0018*Qk if h0 < fwd[3] else 0.032*fwd[3]*(Qk**0.6)
    Gy = Gk
    Tv = fwd[4] + 273
    Tn = fwd[5] + 273
    Tpg = (Qk / (CP*Gy + ALPHA*(fwd[0] + fwd[1]*(fwd[2] - fwd[3])))) + Tv
    ron = 353/Tn
    ropg = 353/Tpg
    DELTAPrasp = G*(ron-ropg)*(fwd[2]-fwd[3])
    Fy = Gy / (MU*((2*ropg*DELTAPrasp)**0.5))
    Ly = (3600 * Gy)/ropg
    Gpr = Gy
    Fpr = Gpr / (MU*((2*ron*DELTAPrasp)**0.5))
    Lpr = (3600 * Gpr)/ron
    v = Lpr / (3600 * Fpr)
    results = [round(Fy, 3), round(Ly, 3), round(Fpr, 3), round(Lpr, 3), round(v, 3)]
    return results
def rasschet_plosh(first_window_data, ploshvars):
    fwd = list(map(float, first_window_data))
    Qp = 1000 * float(ploshvars[1])
    PSIud = float(ploshvars[2]) / 60
    Qk = (1-PHI) * ETHA * Qp * PSIud * float(ploshvars[0])
    h0 = 0.166 * (Qk**0.4)
    Gk = 0.071*(Qk**(1/3))*(fwd[3]**(5/3)) + 0.0018*Qk if h0 < fwd[3] else 0.032*fwd[3]*(Qk**0.6)
    Gy = Gk
    Tv = fwd[4] + 273
    Tn = fwd[5] + 273
    Tpg = (Qk / (CP*Gy + ALPHA*(fwd[0] + fwd[1]*(fwd[2] - fwd[3])))) + Tv
    ron = 353/Tn
    ropg = 353/Tpg
    DELTAPrasp = G*(ron-ropg)*(fwd[2]-fwd[3])
    Fy = Gy / (MU*((2*ropg*DELTAPrasp)**0.5))
    Ly = (3600 * Gy)/ropg
    Gpr = Gy
    Fpr = Gpr / (MU*((2*ron*DELTAPrasp)**0.5))
    Lpr = (3600 * Gpr)/ron
    v = Lpr / (3600 * Fpr)
    results = [round(Fy, 3), round(Ly, 3), round(Fpr, 3), round(Lpr, 3), round(v, 3)]
    return results
def usilie_privoda(dymozor, sneg):
    dymozor = int(dymozor[-3:])
    if dymozor == 300:
        return 40
    else:
        if (dymozor in [100,200,500] and sneg in ["I", "II"]) or (dymozor == 600 and sneg in ["I", "II", "III"]):
            return 1600
        else:
            return 3000
def picture_url(dymozor, kryshka):
    ds = {100:{"–£": "https://i.postimg.cc/D0fzTtfT/image.png", "–ü": "https://i.postimg.cc/zB8zC9gg/image.png", "–ê": "https://i.postimg.cc/y8q1N4WH/image.png", "–†":"https://i.postimg.cc/jjgWkb01/100-1.png"}, 200:{"–£": "https://i.postimg.cc/0y6wTqF1/image.png", "–ü": "https://i.postimg.cc/yNgyyRs9/image.png", "–ê": "https://i.postimg.cc/0jqnQNgS/image.png", "–†":"https://i.postimg.cc/4NQxSgp1/200-1.png"},300:{"–£": "https://i.postimg.cc/KYzHS4Fv/image.png", "–†":"https://i.postimg.cc/nrn6s6MH/300-1.png"}, 500:{"–£": "https://i.postimg.cc/FzT2J6yN/image.png", "–ü": "https://i.postimg.cc/qRxfpqgt/image.png", "–ê": "https://i.postimg.cc/CLy83KkC/image.png", "–†":"https://i.postimg.cc/3NrcrmbN/500-1.png"}, 600:{"–£": "https://i.postimg.cc/g2RvwWDq/image.png", "–†":"https://i.postimg.cc/DzK5y1Sh/600-1.png"}}
    return ds[int(dymozor[-3:])][kryshka[0].upper()]
def opis_dimozor(model):
    slovar = {100:'–î–´–ú–û–ó–û–†¬Æ-100 –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –Ω–∞ –ø–ª–æ—Å–∫—É—é –∫—Ä–æ–≤–ª—é –∑–¥–∞–Ω–∏—è –ª–∏–±–æ —Å —É–≥–ª–æ–º —Å–∫–∞—Ç–∞ –¥–æ 14 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–æ–±—É–∂–¥–µ–Ω–∏–µ–º —Ç—è–≥–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–µ –∑–¥–∞–Ω–∏—è –±–æ–ª—å—à–æ–π –ø–ª–æ—â–∞–¥–∏. –ö—Ä–æ–º–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è ‚Äì —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è. –í –≤–∞—Ä–∏–∞–Ω—Ç–µ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∫—Ä—ã—à–∫–æ–π –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è.',200:'–î–´–ú–û–ó–û–†¬Æ-200 –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –Ω–∞ –ø–ª–æ—Å–∫—É—é –∫—Ä–æ–≤–ª—é –∑–¥–∞–Ω–∏—è –ª–∏–±–æ —Å —É–≥–ª–æ–º —Å–∫–∞—Ç–∞ –¥–æ 14 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–æ–±—É–∂–¥–µ–Ω–∏–µ–º —Ç—è–≥–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ –æ–¥–Ω–æ—ç—Ç–∞–∂–Ω—ã–µ –∑–¥–∞–Ω–∏—è –±–æ–ª—å—à–æ–π –ø–ª–æ—â–∞–¥–∏. –í –≤–∞—Ä–∏–∞–Ω—Ç–µ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –∫—Ä—ã—à–∫–∞–º–∏ –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è. –ö—Ä–æ–º–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è ‚Äì —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è.',300:'–î–´–ú–û–ó–û–†¬Æ-300 –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –≤ —Å—Ç–µ–Ω—É –∑–¥–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –≤—ã—Ç—è–∂–Ω–æ–π –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–æ–±—É–∂–¥–µ–Ω–∏–µ–º —Ç—è–≥–∏. –ö—Ä–æ–º–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è ‚Äì —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–∏—Ç–æ—á–Ω–æ–π –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–æ–±—É–∂–¥–µ–Ω–∏–µ–º —Ç—è–≥–∏.',500:'–î–´–ú–û–ó–û–†¬Æ-500 –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –Ω–∞ –∫—Ä–æ–≤–ª—é –∑–¥–∞–Ω–∏—è —Å –ª—é–±—ã–º —É–≥–ª–æ–º —Å–∫–∞—Ç–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–æ–±—É–∂–¥–µ–Ω–∏–µ–º —Ç—è–≥–∏. –í –≤–∞—Ä–∏–∞–Ω—Ç–µ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π –∫—Ä—ã—à–∫–æ–π –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Å–≤–µ—â–µ–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è. –ö—Ä–æ–º–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è ‚Äì —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏—è.',600:'–î–´–ú–û–ó–û–†¬Æ-600 –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –º–æ–Ω—Ç–∞–∂–∞ –Ω–∞ –ø–ª–æ—Å–∫—É—é –∫—Ä–æ–≤–ª—é –∑–¥–∞–Ω–∏—è –ª–∏–±–æ —Å —É–≥–ª–æ–º —Å–∫–∞—Ç–∞ –¥–æ 14 –≥—Ä–∞–¥—É—Å–æ–≤ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –ø–æ–±—É–∂–¥–µ–Ω–∏–µ–º —Ç—è–≥–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –Ω–∞ –∑–¥–∞–Ω–∏—è—Ö, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤ —Ä–∞–π–æ–Ω–∞—Ö —Å –±–æ–ª—å—à–∏–º –≤–µ—Å–æ–º —Å–Ω–µ–≥–æ–≤–æ–≥–æ –ø–æ–∫—Ä–æ–≤–∞.'}
    return slovar[int(model)]
def nap_pit_dimozor(model):
    return {100:['24'],200:['24'],300:['24','220'],500:['24'],600:['24'],100:['24']}[int(model)]
def tip_krsh_dimozor(model):
    return {100:["–£","–ü","–ê","–ê–ê","–ê–ê–ê"],200:["–£","–ü","–ê","–ê–ê","–ê–ê–ê"],300:["–£"],500:["–£","–ü","–ê","–ê–ê","–ê–ê–ê"],600:["–£"]}[int(model)]
def opis_krsh_dimozor(tip):
    slovar = {"–£":'–£ ‚Äì –£—Ç–µ–ø–ª–µ–Ω–Ω–∞—è –Ω–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è. –ù–∞–ø–æ–ª–Ω–∏—Ç–µ–ª—å ‚Äì —Å–∞–º–æ–∑–∞—Ç—É—Ö–∞—é—â–∏–π –ø–µ–Ω–æ–ø–ª–∞—Å—Ç S = 50 –º–º (–¥–ª—è —Å–µ—Ä–∏–∏ 300 ‚Äì –º–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–∞—Ç–∞). –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–ø–µ—Ä–µ–¥–∞—á–µ R–æ = 1,29 –º2√ó¬∞–°/–í—Ç.',"–ü":'–ü ‚Äì –ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –æ–¥–Ω–æ—Å–ª–æ–π–Ω–∞—è. –ú–∞—Ç–µ—Ä–∏–∞–ª –∫—Ä—ã—à–∫–∏ ‚Äì —Å–æ—Ç–æ–≤—ã–π –ø–æ–ª–∏–∫–∞—Ä–±–æ–Ω–∞—Ç S = 16 –º–º. –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–ø–µ—Ä–µ–¥–∞—á–µ R–æ = 0,45 –º2√ó¬∞–°/–í—Ç.',"–ê":'–ê ‚Äì –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å –æ–¥–Ω–æ—Å–ª–æ–π–Ω—ã–º –∫—É–ø–æ–ª–æ–º. –ú–∞—Ç–µ—Ä–∏–∞–ª –∫—Ä—ã—à–∫–∏ ‚Äì –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø–æ–ª–∏–∫–∞—Ä–±–æ–Ω–∞—Ç. –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–ø–µ—Ä–µ–¥–∞—á–µ R–æ = 0,24 –º2√ó¬∞–°/–í—Ç. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ–ø—Ä–æ–ø—É—Å–∫–∞–Ω–∏—è —Å–≤–µ—Ç–∞ 0,85',"–ê–ê":'–ê–ê ‚Äì –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å –¥–≤—É—Ö—Å–ª–æ–π–Ω—ã–º –∫—É–ø–æ–ª–æ–º. –ú–∞—Ç–µ—Ä–∏–∞–ª –∫—Ä—ã—à–∫–∏ ‚Äì –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø–æ–ª–∏–∫–∞—Ä–±–æ–Ω–∞—Ç. –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–ø–µ—Ä–µ–¥–∞—á–µ R–æ = 0,35 –º2√ó¬∞–°/–í—Ç. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ–ø—Ä–æ–ø—É—Å–∫–∞–Ω–∏—è —Å–≤–µ—Ç–∞ 0,81',"–ê–ê–ê":'–ê–ê–ê ‚Äì –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è —Å —Ç—Ä–µ—Ö—Å–ª–æ–π–Ω—ã–º –∫—É–ø–æ–ª–æ–º. –ú–∞—Ç–µ—Ä–∏–∞–ª –∫—Ä—ã—à–∫–∏ ‚Äì –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –ø–æ–ª–∏–∫–∞—Ä–±–æ–Ω–∞—Ç. –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Ç–µ–ø–ª–æ–ø–µ—Ä–µ–¥–∞—á–µ R–æ = 0,52 –º2√ó¬∞–°/–í—Ç. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ–ø—Ä–æ–ø—É—Å–∫–∞–Ω–∏—è —Å–≤–µ—Ç–∞ 0,73'}
    return slovar[str(tip).upper()]
def choise_option_dimozor(model):
    return {100:['0','–†–µ—à–µ—Ç–∫–∞'],200:['0','–†–µ—à–µ—Ç–∫–∞'],300:['0','–≠–∫—Ä–∞–Ω'],500:['0','–†–µ—à–µ—Ç–∫–∞'],600:['0','–†–µ—à–µ—Ç–∫–∞']}[int(model)]
def opis_option_dimozor(tip):
    tip = str(tip).lower()
    slovar = {'0':'–ù–µ –∫–æ–º–ø–ª–µ–∫—Ç—É–µ—Ç—Å—è','—Ä':'–∑–∞—â–∏—Ç–Ω–∞—è —Ä–µ—à–µ—Ç–∫–∞. –°–ª—É–∂–∏—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–∞–¥–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –∏–ª–∏ –∏–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –ø—Ä–æ–µ–º –ª—é–∫–∞.','—Ä–µ—à–µ—Ç–∫–∞':'–∑–∞—â–∏—Ç–Ω–∞—è —Ä–µ—à–µ—Ç–∫–∞. –°–ª—É–∂–∏—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–∞–¥–µ–Ω–∏—è —á–µ–ª–æ–≤–µ–∫–∞ –∏–ª–∏ –∏–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –≤ –ø—Ä–æ–µ–º –ª—é–∫–∞.','—ç':'–≠–∫—Ä–∞–Ω. –ó–∞—â–∏—â–∞–µ—Ç –ø—Ä–æ—Ö–æ–¥–Ω–æ–µ —Å–µ—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ª—é–∫–∞ –æ—Ç —Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –≤–µ—Ç—Ä–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.','—ç–∫—Ä–∞–Ω':'–≠–∫—Ä–∞–Ω. –ó–∞—â–∏—â–∞–µ—Ç –ø—Ä–æ—Ö–æ–¥–Ω–æ–µ —Å–µ—á–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –ª—é–∫–∞ –æ—Ç —Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω—ã—Ö –≤–µ—Ç—Ä–æ–≤—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫.'}
    return slovar[tip]
def list_of_variants(lukeType:str, intersection:float, gabars=[10**100, 10**100]):
    mingab, maxgab = min(gabars), max(gabars)
    if "600" in lukeType:
        variants = {
            0.93 :  [[1000, 1000]],
            1.14 :  [[1100, 1100]],
            1.36 :  [[1200, 1200]],
            1.6 :   [[1300, 1300]],
            1.87 :  [[1400, 1400]],
            2.15 :  [[1500, 1500]]
        }
        correct_variants = {key: variants[key] for key in list(variants.keys()) if ((key > intersection))}
        for key in list(correct_variants.keys()):
            t_s = []
            term_s = correct_variants[key]
            for s in term_s:
                if (min(s) + 200 <= mingab) and (max(s) + 200 <= maxgab):
                    t_s.append(s)
            correct_variants[key] = t_s
        correct_variants = {key_: correct_variants[key_] for key_ in list(correct_variants.keys()) if len(correct_variants[key_]) != 0}
        return correct_variants
    if "500" in lukeType or "100" in lukeType:
        variants = {}
        A = [500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000] # 1 —Å—Ç—Ä–æ–∫–∞
        B = [600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800] # –°—Ç–æ–ª–±–µ—Ü –ê
        inters = [[0.26, 0.32, 0.38, 0.44, 0.5, 0.56, 0.62, 0.68, 0.74, 0.8, 0.86, 0.92, 0.98, 1.04, 1.1, 1.16], [0.3, 0.37, 0.44, 0.51, 0.58, 0.65, 0.72, 0.79, 0.86, 0.93, 1.0, 1.07, 1.14, 1.21, 1.28, 1.35], [0.34, 0.42, 0.5, 0.58, 0.66, 0.74, 0.82, 0.9, 0.98, 1.06, 1.14, 1.22, 1.3, 1.38, 1.46, 1.54], [0.39, 0.48, 0.57, 0.66, 0.75, 0.84, 0.93, 1.02, 1.11, 1.2, 1.29, 1.38, 1.47, 1.56, 1.65, 1.74], [0.43, 0.53, 0.63, 0.73, 0.83, 0.93, 1.03, 1.13, 1.23, 1.33, 1.43, 1.53, 1.63, 1.73, 1.83, 1.93], [0.48, 0.59, 0.7, 0.81, 0.92, 1.03, 1.14, 1.25, 1.36, 1.47, 1.58, 1.69, 1.8, 1.91, 2.02, 2.13], [0.52, 0.64, 0.76, 0.88, 1.0, 1.12, 1.24, 1.36, 1.48, 1.6, 1.72, 1.84, 1.96, 2.08, 2.2, 2.32], [0.56, 0.69, 0.82, 0.95, 1.08, 1.21, 1.34, 1.47, 1.6, 1.73, 1.86, 1.99, 2.12, 2.25], [0.61, 0.75, 0.89, 1.03, 1.17, 1.31, 1.45, 1.59, 1.73, 1.87, 2.01, 2.15], [0.65, 0.8, 0.95, 1.1, 1.25, 1.4, 1.55, 1.7, 1.85, 2.0, 2.15], [0.7, 0.86, 1.02, 1.18, 1.34, 1.5, 1.66, 1.82, 1.98, 2.14], [0.74, 0.91, 1.08, 1.25, 1.42, 1.59, 1.76, 1.93, 2.1], [0.78, 0.96, 1.14, 1.33, 1.5, 1.68, 1.86, 2.04, 2.22]]
        for i in range(len(inters)):
            for j in range(len(inters[i])):
                variants[inters[i][j]] = []
        for i in range(len(inters)):
            for j in range(len(inters[i])):
                variants[inters[i][j]].append([A[j], B[i]])
        correct_variants = {key: variants[key] for key in list(variants.keys()) if ((key > intersection))}
        for key in list(correct_variants.keys()):
            t_s = []
            term_s = correct_variants[key]
            for s in term_s:
                if (min(s) + 200 <= mingab) and (max(s) + 200 <= maxgab):
                    t_s.append(s)
            correct_variants[key] = t_s
        correct_variants = {key_: correct_variants[key_] for key_ in list(correct_variants.keys()) if len(correct_variants[key_]) != 0}
        return correct_variants
    if "200" in lukeType:
        variants = {}
        A = [500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000]
        B = [1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000, 2100, 2200, 2300, 2400, 2500, 2600, 2700, 2800, 2900, 3000, 3100, 3200, 3300]
        inters = [[0.52, 0.64, 0.76, 0.88, 1.0, 1.12, 1.24, 1.36, 1.48, 1.6, 1.72, 1.84, 1.96, 2.08, 2.2, 2.32], [0.56, 0.69, 0.82, 0.95, 1.08, 1.21, 1.34, 1.47, 1.6, 1.73, 1.86, 1.99, 2.12, 2.25, 2.38, 2.51], [0.61, 0.75, 0.89, 1.03, 1.17, 1.31, 1.45, 1.59, 1.73, 1.87, 2.01, 2.15, 2.29, 2.43, 2.57, 2.71], [0.65, 0.8, 0.95, 1.1, 1.25, 1.4, 1.55, 1.7, 1.85, 2.0, 2.15, 2.3, 2.45, 2.6, 2.75, 2.9], [0.69, 0.85, 1.01, 1.17, 1.33, 1.49, 1.65, 1.81, 1.97, 2.13, 2.29, 2.45, 2.61, 2.77, 2.93, 3.09], [0.74, 0.91, 1.05, 1.25, 1.42, 1.59, 1.76, 1.93, 2.1, 2.27, 2.44, 2.61, 2.78, 2.95, 3.12, 3.29], [0.78, 0.96, 1.14, 1.32, 1.5, 1.68, 1.86, 2.04, 2.22, 2.4, 2.58, 2.76, 2.94, 3.12, 3.3, 3.48], [0.83, 1.02, 1.21, 1.4, 1.59, 1.78, 1.97, 2.16, 2.35, 2.54, 2.73, 2.92, 3.11, 3.3, 3.49, 3.68], [0.87, 1.07, 1.27, 1.47, 1.67, 1.87, 2.07, 2.27, 2.47, 2.67, 2.87, 3.07, 3.27, 3.47, 3.67], [0.91, 1.12, 1.33, 1.54, 1.75, 1.96, 2.17, 2.38, 2.59, 2.8, 3.01, 3.22, 3.43, 3.64], [0.96, 1.18, 1.4, 1.62, 1.84, 2.06, 2.28, 2.5, 2.72, 2.94, 3.16, 3.38, 3.6], [1.0, 1.23, 1.46, 1.69, 1.92, 2.15, 2.38, 2.61, 2.84, 3.07, 3.3, 3.53, 3.76], [1.05, 1.29, 1.53, 1.77, 2.01, 2.25, 2.49, 2.73, 2.97, 3.21, 3.45, 3.69], [1.09, 1.34, 1.59, 1.84, 2.09, 2.34, 2.59, 2.84, 3.09, 3.34, 3.59, 3.84], [1.13, 1.39, 1.65, 1.91, 2.17, 2.43, 2.69, 2.95, 3.21, 3.47, 3.73], [1.18, 1.45, 1.72, 1.99, 2.26, 2.53, 2.8, 3.07, 3.34, 3.61, 3.88], [1.22, 1.5, 1.78, 2.06, 2.34, 2.62, 2.9, 3.18, 3.46, 3.74, 4.02], [1.27, 1.56, 1.85, 2.14, 2.43, 2.72, 3.01, 3.3, 3.59, 3.88], [1.31, 1.61, 1.91, 2.21, 2.51, 2.81, 3.11, 3.41, 3.71, 4.01], [1.35, 1.66, 1.97, 2.28, 2.59, 2.9, 3.21, 3.52, 3.83, 4.14], [1.72, 2.04, 2.36, 2.68, 3.0, 3.32, 3.64, 3.96, 4.28], [1.77, 2.1, 2.43, 2.76, 3.09, 3.42, 3.75, 4.08]]
        for i in range(len(inters)):
            for j in range(len(inters[i])):
                variants[inters[i][j]] = []
        for i in range(len(inters)):
            for j in range(len(inters[i])):
                variants[inters[i][j]].append([A[j], B[i]])
        correct_variants = {key: variants[key] for key in list(variants.keys()) if ((key > intersection))}
        for key in list(correct_variants.keys()):
            t_s = []
            term_s = correct_variants[key]
            for s in term_s:
                if (min(s) + 200 <= mingab) and (max(s) + 200 <= maxgab):
                    t_s.append(s)
            correct_variants[key] = t_s
        correct_variants = {key_: correct_variants[key_] for key_ in list(correct_variants.keys()) if len(correct_variants[key_]) != 0}
        return correct_variants
    if "300" in lukeType:
        variants = {}
        A = [500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800]
        B = [500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800, 1900, 2000]
        inters = [[0.07, 0.09, 0.11, 0.13, 0.15, 0.16, 0.18, 0.2, 0.22, 0.24, 0.26, 0.28, 0.3, 0.32], [0.12, 0.15, 0.18, 0.22, 0.25, 0.28, 0.31, 0.34, 0.38, 0.41, 0.44, 0.47, 0.5, 0.53], [0.12, 0.15, 0.18, 0.22, 0.25, 0.28, 0.31, 0.34, 0.38, 0.41, 0.44, 0.47, 0.5, 0.53], [0.17, 0.22, 0.26, 0.31, 0.35, 0.4, 0.44, 0.49, 0.53, 0.57, 0.62, 0.66, 0.71, 0.75], [0.22, 0.28, 0.34, 0.4, 0.45, 0.51, 0.57, 0.63, 0.68, 0.74, 0.8, 0.86, 0.91, 0.97], [0.22, 0.28, 0.34, 0.4, 0.45, 0.51, 0.57, 0.63, 0.68, 0.74, 0.8, 0.86, 0.91, 0.97], [0.27, 0.35, 0.42, 0.49, 0.56, 0.63, 0.7, 0.77, 0.84, 0.91, 0.98, 1.05, 1.12, 1.19], [0.33, 0.41, 0.49, 0.58, 0.66, 0.74, 0.83, 0.91, 0.99, 1.08, 1.16, 1.24, 1.33, 1.41], [0.33, 0.41, 0.49, 0.58, 0.66, 0.74, 0.83, 0.91, 0.99, 1.08, 1.16, 1.24, 1.33, 1.41], [0.38, 0.47, 0.57, 0.67, 0.76, 0.86, 0.96, 1.05, 1.15, 1.24, 1.34, 1.44, 1.53, 1.63], [0.43, 0.54, 0.65, 0.76, 0.87, 0.97, 1.08, 1.19, 1.3, 1.41, 1.52, 1.63, 1.74, 1.85], [0.43, 0.54, 0.65, 0.76, 0.87, 0.97, 1.08, 1.19, 1.3, 1.41, 1.52, 1.63, 1.74, 1.85], [0.48, 0.6, 0.72, 0.85, 0.97, 1.09, 1.21, 1.33, 1.46, 1.58, 1.7, 1.82, 1.94, 2.07], [0.53, 0.67, 0.8, 0.94, 1.07, 1.21, 1.34, 1.48, 1.61, 1.75, 1.88, 2.02, 2.15, 2.29], [0.53, 0.67, 0.8, 0.94, 1.07, 1.21, 1.34, 1.48, 1.61, 1.75, 1.88, 2.02, 2.15, 2.29], [0.58, 0.73, 0.88, 1.03, 1.17, 1.32, 1.47, 1.62, 1.77, 1.91, 2.06, 2.21, 2.36, 2.5]]
        for i in range(len(inters)):
            for j in range(len(inters[i])):
                variants[inters[i][j]] = []
        for i in range(len(inters)):
            for j in range(len(inters[i])):
                variants[inters[i][j]].append([A[j], B[i]])
        correct_variants = {key: variants[key] for key in list(variants.keys()) if ((key > intersection) and (key < (intersection * 1.15)))}
        for key in list(correct_variants.keys()):
            t_s = []
            term_s = correct_variants[key]
            for s in term_s:
                if (min(s) + 100 <= mingab) and (max(s) + 100 <= maxgab):
                    t_s.append(s)
            correct_variants[key] = t_s
        correct_variants = {key_: correct_variants[key_] for key_ in list(correct_variants.keys()) if len(correct_variants[key_]) != 0}
        return correct_variants
def list_of_lukes(lukeType:str, intersection:float, kryshka, usilie, napryazhenie, opcia, l):
    glintersection = intersection
    intersection /= l
    vars = {}
    dzors = []
    cvars = list_of_variants(lukeType, intersection)
    for key in cvars:
        if not key in vars.keys():
            vars[key] = [cvars[key] + [l]]
        else:
            vars[key]+=[cvars[key] + [l]]
    for v in vars.keys():
        for item in vars[v][0][:-1]:
            d = f'–î–´–ú–û–ó–û–†-{lukeType[-3:]}-{item[0]}*{item[1]}-{kryshka}-{usilie}-{napryazhenie}-{opcia[:1]}-–°'
            A = f"{item[0]}"
            B = f"{item[1]}"
            kolvo = vars[v][0][-1]
            zapas = round(round((((v*kolvo) - glintersection)/glintersection), 3)*100, 1)
            dzors.append([d, kolvo, round(zapas,1), A, B])
    return dzors
def two_excel(df, HEADER=False, START=1):
    output = io.BytesIO()
    writer = pd.ExcelWriter(output, engine='xlsxwriter')
    df.to_excel(writer, index=False, header=HEADER,startrow=START, startcol=START, sheet_name='Sheet1')
    workbook = writer.book
    worksheet = writer.sheets['Sheet1']
    for idx, col in enumerate(df):
        series = df[col]
        max_len = max((series.astype(str).map(len).max(), len(str(series.name)))) + 4
        worksheet.set_column(idx,idx,max_len)
    url1 = picture_url(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"])
    url2 = picture_url(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏ –Ω–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"])
    import urllib.request
    data1 = urllib.request.urlopen(url1, context=context).read()
    file1 = open(f"{suffi}image1.jpg", "wb")
    file1.write(data1)
    file1.close()
    data2 = urllib.request.urlopen(url2, context=context).read()
    file2 = open(f"{suffi}image2.jpg", "wb")
    file2.write(data2)
    file2.close()
    worksheet.insert_image('A5', f"{suffi}image1.jpg")
    worksheet.insert_image('B5', f"{suffi}image2.jpg")
    writer.close()
    import os
    os.remove(f"{suffi}image1.jpg")
    os.remove(f"{suffi}image2.jpg")
    return output.getvalue()
A_tab = {"–ë—É–º–∞–≥–∞ –≤ —Ä—É–ª–æ–Ω–∞—Ö"  : [13.4, 0.48],"–ë—É–º–∞–≥–∞ –≤–æ –≤–∑—Ä—ã—Ö–ª–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏" : [13.4, 0.48],"–î—Ä–µ–≤–µ—Å–∏–Ω–∞"  : [13.85, 0.9],"–ö–∞—Ä–±–æ–ª–∏—Ç–æ–≤—ã–µ –∏–∑–¥–µ–ª–∏—è" : [26, 0.38],"–ö–∞—É—á—É–∫ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–π"  : [42, 0.8],"–ö–æ—Ä–¥": [14, .25],"–ü–∞–∫–µ—Ç –ø–æ–¥–≤–µ—à–µ–Ω–Ω—ã—Ö —Ç–∫–∞–Ω–µ–π —Å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ–º 0,2 –º"  : [13.9, 1],"–ü–µ–Ω–æ–ø–æ–ª–∏—É—Ä–µ—Ç–∞–Ω": [31.8, .92],"–ü–æ–ª–∏—Å—Ç–∏—Ä–æ–ª (–∏–∑–¥–µ–ª–∏—è)" : [42, .89],"–†–¢–ò": [33.6, .7],"–¢–µ–∫—Å—Ç–æ–ª–∏—Ç": [21, .53],"–£–≥–∞—Ä—ã –≤ —Å–≤–æ–±–æ–¥–Ω–æ–π —É–∫–ª–∞–¥–∫–µ" : [13.9, .25, 6, 1.2],"–•–ª–æ–ø–æ–∫ –≤ –ø–ª–æ—Ç–Ω–æ–π —É–ø–∞–∫–æ–≤–∫–µ" : [16.8, .25],"–•–ª–æ–ø–æ–∫ –≤–æ –≤–∑—Ä—ã—Ö–ª–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏" : [16.8, .25],"–®–ø–∞—Ç–µ–ª—å–Ω–æ–µ –≤–æ–ª–æ–∫–Ω–æ –≤ —Ä—É–ª–æ–Ω–∞—Ö" : [13.9, .4],"–®–ø–∞—Ç–µ–ª—å–Ω–æ–µ –≤–æ–ª–æ–∫–Ω–æ –≤–æ –≤–∑—Ä—ã—Ö–ª–µ–Ω–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏"   : [13.9, .4],"–ê—Ü–µ—Ç–æ–Ω" : [29, 2.83],"–ë–µ–Ω–∑–∏–Ω" : [42, 3.3],"–ë–µ–Ω–∑–æ–ª"  : [42, 2.3],"–î–∏–∑–µ–ª—å–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ"  : [42, 2.5],"–î–∏—ç—Ç–∏–ª–æ–≤—ã–π —ç—Ñ–∏—Ä" : [33.6, 3.6],"–ö–µ—Ä–æ—Å–∏–Ω": [43.7, 2.9],"–ú–∞–∑—É—Ç" : [40, 2.1],"–ú–µ—Ç–∏–ª–æ–≤—ã–π —Å–ø–∏—Ä—Ç"  : [24, 0.96],"–ù–µ—Ñ—Ç—å": [42, 1.4],"–¢–æ–ª—É–æ–ª" : [42.7, 2.3]}
K_tab = tuple(sorted(A_tab.keys()))
mats = tuple(sorted([item for item in A_tab.keys()]))
col={}
st.header("–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–±–æ—Ä—É –¥—ã–º–æ–≤—ã—Ö –ª—é–∫–æ–≤")
st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"] = []
col[0] = st.columns(4)
with col[0][0]:
    st.write("#### –¢–∏–ø –≤—ã–±–æ—Ä–∞ ###")
    st.markdown("---")
    st.session_state["–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞"] = col[0][0].radio("–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=("–ü–æ —Ç–µ–ø–ª–æ–≤–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –ø–æ–∂–∞—Ä–∞", "–ü–æ –ø–ª–æ—â–∞–¥–∏ –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è"))
    st.write("#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–º–µ—â–µ–Ω–∏—è ###")
    st.markdown("---")
    st.session_state["–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º"] = float(col[0][1].text_input("–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º", value='0').replace(",",'.'))
    st.session_state["–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º"] = float(col[0][1].text_input("–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º", value='0').replace(",",'.'))
    if st.session_state["–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º"] <= st.session_state["–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º"]:
        st.markdown(":red[–í—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ –≤—ã—Å–æ—Ç—ã –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è!]")
    st.markdown("---")
    st.session_state["–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"] = float(col[0][1].text_input("–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C", value='0').replace(",",'.'))
    st.session_state["–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—Ä—É–∂–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"] = float(col[0][1].text_input("–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—Ä—É–∂–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C", value='0').replace(",",'.'))
with col[0][0]:
    st.session_state["–ü–ª–æ—â–∞–¥—å –∑–æ–Ω—ã –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è, –º¬≤"] = float(col[0][0].text_input("–ü–ª–æ—â–∞–¥—å –∑–æ–Ω—ã –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è, –º¬≤", value='0').replace(",",'.'))
    st.session_state["–ü–µ—Ä–∏–º–µ—Ç—Ä –æ–≥—Ä–∞–∂–¥–∞—é—â–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –º¬≤"] = float(col[0][0].text_input("–ü–µ—Ä–∏–º–µ—Ç—Ä –æ–≥—Ä–∞–∂–¥–∞—é—â–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –º", value='0').replace(",",'.'))
    if st.session_state["–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞"] == "–ü–æ —Ç–µ–ø–ª–æ–≤–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –ø–æ–∂–∞—Ä–∞":
        st.session_state["–¢–µ–ø–ª–æ–≤–∞—è –º–æ—â–Ω–æ—Å—Ç—å –ø–æ–∂–∞—Ä–∞, –∫–í—Ç"] = float(col[0][0].text_input("–¢–µ–ø–ª–æ–≤–∞—è –º–æ—â–Ω–æ—Å—Ç—å –ø–æ–∂–∞—Ä–∞, –∫–í—Ç", value='0').replace(",",'.'))
        try:
            first_window = [st.session_state[key] for key in ["–ü–ª–æ—â–∞–¥—å –∑–æ–Ω—ã –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è, –º¬≤", "–ü–µ—Ä–∏–º–µ—Ç—Ä –æ–≥—Ä–∞–∂–¥–∞—é—â–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –º¬≤", "–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º", "–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—Ä—É–∂–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"]]
            st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"] = rasschet_mosh(first_window, st.session_state["–¢–µ–ø–ª–æ–≤–∞—è –º–æ—â–Ω–æ—Å—Ç—å –ø–æ–∂–∞—Ä–∞, –∫–í—Ç"])
        except:
            st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"] = []
    else:
        st.session_state["–ü–ª–æ—â–∞–¥—å –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è, –º¬≤"] = float(col[0][0].text_input("–ü–ª–æ—â–∞–¥—å –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è, –º¬≤", value='0').replace(",",'.'))
        st.session_state["–í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞"] = col[0][0].selectbox("–í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞", options=mats)
        try:
            first_window = [st.session_state[key] for key in ["–ü–ª–æ—â–∞–¥—å –∑–æ–Ω—ã –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è, –º¬≤", "–ü–µ—Ä–∏–º–µ—Ç—Ä –æ–≥—Ä–∞–∂–¥–∞—é—â–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –º¬≤", "–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º", "–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—Ä—É–∂–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"]]
            ploshi = [st.session_state["–ü–ª–æ—â–∞–¥—å –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è, –º¬≤"], A_tab[st.session_state["–í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞"]][0], A_tab[st.session_state["–í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞"]][1]]
            st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"] = rasschet_plosh(first_window, ploshi)
        except:
            st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"] = []
st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"]
st.markdown("---")
with col[0][2]:
    if not len(st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"]):
        pass
    else:
        st.write("#### –í—ã–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ª—é–∫–∞ ###")
        st.markdown("---")
        st.session_state["–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª—é–∫–∞"] = st.radio("–í—ã–±–æ—Ä —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=("–ù–∞ –∫—Ä—ã—à–µ", "–í —Å—Ç–µ–Ω–µ"), horizontal=True)
        if st.session_state["–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª—é–∫–∞"] == "–í —Å—Ç–µ–Ω–µ":
            st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] = st.radio("–°–µ—Ä–∏—è –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=("–î–´–ú–û–ó–û–†¬Æ-300", "–î–´–ú–û–ó–û–†¬Æ-500"), horizontal=True)
            with st.expander(f'–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ {st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]}'):
                st.write(opis_dimozor(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:]))
            st.session_state["–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞"] = st.radio("–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞, –í", options=('24','220') if st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] == "–î–´–ú–û–ó–û–†¬Æ-300" else ('24',), horizontal=True)
        else:
            st.session_state['–î–´–ú–û–ó–û–† —É–≥–æ–ª —Å–∫–∞—Ç–∞ –∫—Ä–æ–≤–ª–∏'] = st.radio("–£–≥–æ–ª —Å–∫–∞—Ç–∞ –∫—Ä–æ–≤–ª–∏", options=("–¥–æ 14¬∞", "–±–æ–ª–µ–µ 14¬∞"), horizontal=True)
            if st.session_state['–î–´–ú–û–ó–û–† —É–≥–æ–ª —Å–∫–∞—Ç–∞ –∫—Ä–æ–≤–ª–∏'] == "–±–æ–ª–µ–µ 14¬∞":
                st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏'] = st.radio("–†–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏", options=("I","II","III","IV","V"), horizontal=True)
                st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] = st.radio("–°–µ—Ä–∏—è –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=("–î–´–ú–û–ó–û–†¬Æ-500",), horizontal=True)
                with st.expander(f'–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ {st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]}'):
                    st.write(opis_dimozor(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:]))
            else:
                st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏'] = st.radio("–†–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏", options=("I","II","III","IV","V","VI"), horizontal=True)
                if st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏'] == "VI":
                    st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] = st.radio("–°–µ—Ä–∏—è –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=("–î–´–ú–û–ó–û–†¬Æ-600",), horizontal=True)
                    with st.expander(f'–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ {st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]}'):
                        st.write(opis_dimozor(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:]))
                else:
                    st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] = st.radio("–°–µ—Ä–∏—è –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=("–î–´–ú–û–ó–û–†¬Æ-100", "–î–´–ú–û–ó–û–†¬Æ-200", "–î–´–ú–û–ó–û–†¬Æ-500", "–î–´–ú–û–ó–û–†¬Æ-600"), horizontal=True)
                    with st.expander(f'–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ {st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]}'):
                        st.write(opis_dimozor(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:]))
        if not "3" in st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]:
            st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'] = '24'
        if st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] in ["–î–´–ú–û–ó–û–†¬Æ-100", "–î–´–ú–û–ó–û–†¬Æ-200", "–î–´–ú–û–ó–û–†¬Æ-500"]:
            st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"] = st.radio("–¢–∏–ø –∫—Ä—ã—à–∫–∏", options=('–£', '–ü', '–ê–ê–ê'), horizontal=True)
            with st.expander(f'–û–ø–∏—Å–∞–Ω–∏–µ –∫—Ä—ã—à–∫–∏ {st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"]}'):
                st.write(opis_krsh_dimozor(st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"]))
        elif st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"] in ["–î–´–ú–û–ó–û–†¬Æ-300", "–î–´–ú–û–ó–û–†¬Æ-600"]:
            st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"] = st.radio("–¢–∏–ø –∫—Ä—ã—à–∫–∏", options=('–£',), horizontal=True)
            with st.expander(f'–û–ø–∏—Å–∞–Ω–∏–µ –∫—Ä—ã—à–∫–∏ {st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"]}'):
                st.write(opis_krsh_dimozor(st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"]))
        st.session_state["–î–´–ú–û–ó–û–† –æ–ø—Ü–∏—è"] = st.radio("O–ø—Ü–∏—è", tuple(choise_option_dimozor(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:])), horizontal=True)
        with st.expander(f'–û–ø—Ü–∏—è {st.session_state["–î–´–ú–û–ó–û–† –æ–ø—Ü–∏—è"]}'):
            st.write(opis_option_dimozor(st.session_state["–î–´–ú–û–ó–û–† –æ–ø—Ü–∏—è"]))
try:
    st.session_state["–£—Å–∏–ª–∏–µ –ø—Ä–∏–≤–æ–¥–∞"] = usilie_privoda(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏'])
except:
    pass
try:
    spisok = ["–ü–ª–æ—â–∞–¥—å –ø—Ä–æ—ë–º–∞ –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è", "–†–∞—Å—Ö–æ–¥ —É–¥–∞–ª—è–µ–º—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è", "–ü–ª–æ—â–∞–¥—å –ø—Ä–æ—ë–º–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏", "–†–∞—Å—Ö–æ–¥ –ø—Ä–∏—Ç–æ—á–Ω–æ–≥–æ –≤–æ–∑–¥—É—Ö–∞", "–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—Ç–æ–∫–∞ –≤ –ø—Ä–æ—ë–º–µ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"]
    raschdic = {"–†–∞—Å—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ":{spisok[i]:st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"][i] for i in range(len(spisok))}}
    # st.write(raschdic)
except:
    pass
with col[0][3]:
    if not len(st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"]):
        pass
    else:
        st.write("#### –°—Ö–µ–º–∞ ###")
        st.markdown("---")
        try:
            st.write(f'#### {st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]} ###')
            st.image(picture_url(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"]))
        except:
            pass
try:
    aplaceholder = st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞']
except:
    st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'] = '24'
try:
    phmd = st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]
    st.write("#### –í—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ ###")
    st.image(picture_url(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], "–†"))
    if "300" in st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]:
        st.markdown(":red[–†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–º–∞ –¥–ª—è –î—ã–º–æ–∑–æ—Ä-300 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ 20 –º–º –±–æ–ª—å—à–µ –Ω–æ–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ª—é–∫–∞.]")
    ss_ = st.columns(3)
    st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤"] = ss_[0].select_slider("–í—ã–±–µ—Ä–∏—Ç–µ —á–∏—Å–ª–æ –¥—ã–º–æ–≤—ã—Ö –ª—é–∫–æ–≤", options=[i for i in range(1,31) if len(list_of_lukes(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"][0], st.session_state['–¢–∏–ø –∫—Ä—ã—à–∫–∏'], st.session_state['–£—Å–∏–ª–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state['–î–´–ú–û–ó–û–† –æ–ø—Ü–∏—è'], i))])
    spisok_lukov = sorted(list_of_lukes(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"][0], st.session_state['–¢–∏–ø –∫—Ä—ã—à–∫–∏'], st.session_state['–£—Å–∏–ª–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state['–î–´–ú–û–ó–û–† –æ–ø—Ü–∏—è'], st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤"]), key=lambda x:x[2])
    spisok_lukov = sorted(spisok_lukov, key=lambda x: int(re.findall(r"-(\d+)\*",x[0])[0]) * int(re.findall(r"\*(\d+)-", x[0])[0]))
    spisok_lukov = sorted(spisok_lukov, key=lambda x: int(re.findall(r"\*(\d+)-", x[0])[0]))
    spisok_lukov = sorted(spisok_lukov, key=lambda x: int(re.findall(r"-(\d+)\*",x[0])[0]))
    spisok_lukov = sorted(spisok_lukov, key=lambda x: x[2])
    spisok_lukov = spisok_lukov if len(spisok_lukov)<=10 else spisok_lukov[:10]
    colu = st.columns((2,1,1,1,4), gap="small")
    luk = ((item[0] for item in spisok_lukov))
    kol_luk = "<br>".join([str(item[1]) for item in spisok_lukov])
    zap_luk = "<br>".join([str(item[2]) for item in spisok_lukov])
    A_luk =   "<br>".join([str(item[3]) for item in spisok_lukov])
    B_luk =   "<br>".join([str(item[4]) for item in spisok_lukov])
    colu[0].write("–í—ã–±–æ—Ä –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞")
    st.session_state["–í—ã–±—Ä–∞–Ω–Ω—ã–π –ª—é–∫"] = colu[0].radio("–í—ã–±–æ—Ä –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞", options=luk, label_visibility="collapsed")
    colu[1].write("–ó–∞–ø–∞—Å –ø–ª–æ—â–∞–¥–∏, %")
    colu[1].write(zap_luk, unsafe_allow_html=True)
    colu[2].write("A, –º–º")
    colu[2].write(A_luk, unsafe_allow_html=True)
    if not "600" in st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"]:
        colu[3].write("B, –º–º")
        colu[3].write(B_luk, unsafe_allow_html=True)
    st.markdown("---")
    st.write("#### –õ—é–∫ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ ###")
    st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"] = st.radio("–í—ã–±–µ—Ä–∏—Ç–µ –ª—é–∫ –∫–æ–º–ø–µ—Å–∞—Ü–∏–∏", options=("–î–´–ú–û–ó–û–†¬Æ-300", "–î–´–ú–û–ó–û–†¬Æ-500") if st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞']=="24" else ("–î–´–ú–û–ó–û–†¬Æ-300",), horizontal=True)
    if "5" in st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"]:
        st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏ –Ω–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"] = st.radio("–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä—ã—à–∫—É –ª—é–∫–∞ –∫–æ–º–ø–µ—Å–∞—Ü–∏–∏", options=('–£', '–ü', '–ê–ê–ê'), horizontal=True)
    else:
        st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏ –Ω–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"] = "–£"
    st.image(picture_url(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], "–†"))
    if "3" in st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"]:
        st.markdown(":red[–†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–º–∞ –¥–ª—è –î—ã–º–æ–∑–æ—Ä-300 –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ 20 –º–º –±–æ–ª—å—à–µ –Ω–æ–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ª—é–∫–∞.]")
    ss_u = st.columns(3)
    st.session_state["–û–ü–¶–ò–Ø –ü–†–ò–¢–û–ö–ê"] = st.radio("–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é –¥–ª—è –ª—é–∫–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏", options=("0", "–≠–∫—Ä–∞–Ω") if "3" in st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"] else ("0", "–†–µ—à–µ—Ç–∫–∞"), horizontal=True)
    st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"] = ss_u[0].select_slider("–í—ã–±–µ—Ä–∏—Ç–µ —á–∏—Å–ª–æ –ª—é–∫–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏", options=[lil for lil in range(1,31) if len(list_of_lukes(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"][2], "–£", usilie_privoda(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏']), st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state["–û–ü–¶–ò–Ø –ü–†–ò–¢–û–ö–ê"], lil))])
    spisok_lukov_p = sorted(list_of_lukes(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], st.session_state["–î–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—á—ë—Ç–∞"][2], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏ –Ω–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"], usilie_privoda(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏']), st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state["–û–ü–¶–ò–Ø –ü–†–ò–¢–û–ö–ê"], st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"]), key=lambda x:x[2])
    spisok_lukov_p = sorted(spisok_lukov_p, key=lambda x: int(re.findall(r"-(\d+)\*",x[0])[0]) * int(re.findall(r"\*(\d+)-", x[0])[0]))
    spisok_lukov_p = sorted(spisok_lukov_p, key=lambda x: int(re.findall(r"\*(\d+)-", x[0])[0]))
    spisok_lukov_p = sorted(spisok_lukov_p, key=lambda x: int(re.findall(r"-(\d+)\*",x[0])[0]))
    spisok_lukov_p = sorted(spisok_lukov_p, key=lambda x: x[2])
    spisok_lukov_p = spisok_lukov_p if len(spisok_lukov_p)<=10 else spisok_lukov_p[:10]
    coluk = st.columns((2,1,1,1,4), gap="small")
    luk_p = ((item[0] for item in spisok_lukov_p))
    kol_luk_p = "<br>".join([str(item[1]) for item in spisok_lukov_p])
    zap_luk_p = "<br>".join([str(item[2]) for item in spisok_lukov_p])
    A_luk_p =   "<br>".join([str(item[3]) for item in spisok_lukov_p])
    B_luk_p =   "<br>".join([str(item[4]) for item in spisok_lukov_p])
    coluk[0].write("–í—ã–±–æ—Ä –ª—é–∫–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏")
    st.session_state["–í—ã–±—Ä–∞–Ω–Ω—ã–π –ª—é–∫ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"] = coluk[0].radio("–í—ã–±–æ—Ä –ª—é–∫–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏", options=luk_p, label_visibility="collapsed")
    coluk[1].write("–ó–∞–ø–∞—Å –ø–ª–æ—â–∞–¥–∏, %")
    coluk[1].write(zap_luk_p, unsafe_allow_html=True)
    coluk[2].write("A, –º–º")
    coluk[2].write(A_luk_p, unsafe_allow_html=True)
    coluk[3].write("B, –º–º")
    coluk[3].write(B_luk_p, unsafe_allow_html=True)
    st.markdown("---")
    st.session_state['–ü–æ–¥–æ–±—Ä–∞–Ω–æ'] = [[st.session_state["–í—ã–±—Ä–∞–Ω–Ω—ã–π –ª—é–∫"], str(st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤"]), st.session_state["–í—ã–±—Ä–∞–Ω–Ω—ã–π –ª—é–∫ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"], str(st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"])]]
    picol = st.columns((1,6,1))
    with picol[1]:
        st.write("#### –ü–æ–¥–æ–±—Ä–∞–Ω–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã ###")
        st.table(pd.DataFrame(st.session_state['–ü–æ–¥–æ–±—Ä–∞–Ω–æ'], columns=["–î—ã–º–æ–≤–æ–π –ª—é–∫","–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—ã–º–æ–≤—ã—Ö –ª—é–∫–æ–≤, —à—Ç.", "–õ—é–∫ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏", "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–∫–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏, —à—Ç."]).assign(hack='').set_index('hack').style)
    picol_p = st.columns((1,3,3,1))
    with picol_p[1]:
        st.image(picture_url(st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"]))
        st.write(f"#### {st.session_state['–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è']} ###")
    with picol_p[2]:
        st.image(picture_url(st.session_state["–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò"], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏ –Ω–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"]))
        st.write(f"#### {st.session_state['–¢–ò–ü –õ–Æ–ö–ê –ö–û–ú–ü–ï–ù–°–ê–¶–ò–ò']} ###")
    ppic = st.columns(3)
    with ppic[1]:
        st.download_button(label='üíæ –°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –ª—é–∫–∞–º–∏',data=two_excel(pd.DataFrame({st.session_state["–í—ã–±—Ä–∞–Ω–Ω—ã–π –ª—é–∫"]: [str(st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤"]) + " —à—Ç.", "–ù–∞ –≤—ã—Ç—è–∂–∫–µ", "", "", "", "", "", ""], st.session_state["–í—ã–±—Ä–∞–Ω–Ω—ã–π –ª—é–∫ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"]:[str(st.session_state["–ß–∏—Å–ª–æ –ª—é–∫–æ–≤ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏"])+" —à—Ç.", "–ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è", "", "", "", "", "", ""], "":["","", "", "", "", "", "", ""], "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–±–æ—Ä–∞":["–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞","–¢–µ–ø–ª–æ–≤–∞—è –º–æ—â–Ω–æ—Å—Ç—å –ø–æ–∂–∞—Ä–∞" if st.session_state["–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞"]=="–ü–æ —Ç–µ–ø–ª–æ–≤–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –ø–æ–∂–∞—Ä–∞" else "–ü–ª–æ—â–∞–¥—å –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è | –ì–æ—Ä—é—á–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª", "–ü–ª–æ—â–∞–¥—å –∑–æ–Ω—ã –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è, –º¬≤", "–ü–µ—Ä–∏–º–µ—Ç—Ä –æ–≥—Ä–∞–∂–¥–∞—é—â–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –º", "–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º", "–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C", "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—Ä—É–∂–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"], "–ó–Ω–∞—á–µ–Ω–∏—è":[st.session_state["–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞"], str(st.session_state["–¢–µ–ø–ª–æ–≤–∞—è –º–æ—â–Ω–æ—Å—Ç—å –ø–æ–∂–∞—Ä–∞, –∫–í—Ç"]) if st.session_state["–í–∞—Ä–∏–∞–Ω—Ç –ø–æ–¥–±–æ—Ä–∞ –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞"]=="–ü–æ —Ç–µ–ø–ª–æ–≤–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –ø–æ–∂–∞—Ä–∞" else str(st.session_state["–ü–ª–æ—â–∞–¥—å –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è, –º¬≤"])+" | "+(st.session_state["–í—ã–±–æ—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–∞"]), str(st.session_state["–ü–ª–æ—â–∞–¥—å –∑–æ–Ω—ã –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è, –º¬≤"]), str(st.session_state["–ü–µ—Ä–∏–º–µ—Ç—Ä –æ–≥—Ä–∞–∂–¥–∞—é—â–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π, –º¬≤"]), str(st.session_state["–í—ã—Å–æ—Ç–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –¥–æ –º–µ—Å—Ç–∞ –≤—ã–±—Ä–æ—Å–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≥–æ—Ä–µ–Ω–∏—è, –º"]), str(st.session_state["–¢—Ä–µ–±—É–µ–º–∞—è –≤—ã—Å–æ—Ç–∞ –Ω–µ–∑–∞–¥—ã–º–ª–µ–Ω–Ω–æ–π –∑–æ–Ω—ã, –º"]), str(st.session_state["–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"]), str(st.session_state["–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –Ω–∞—Ä—É–∂–Ω–µ–≥–æ –≤–æ–∑–¥—É—Ö–∞, ¬∞C"])], "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥—ã–º–æ–≤–æ–≥–æ –ª—é–∫–∞":["–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ","–£–≥–æ–ª —Å–∫–∞—Ç–∞ –∫—Ä–æ–≤–ª–∏", "–†–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏" if st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:]!="300" else "–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞", "–¢–∏–ø –∫—Ä—ã—à–∫–∏", "–û–ø—Ü–∏—è", "–û–ø—Ü–∏—è –ª—é–∫–∞ –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏", "", ""], "–í—ã–±—Ä–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è":[st.session_state["–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª—é–∫–∞"],st.session_state['–î–´–ú–û–ó–û–† —É–≥–æ–ª —Å–∫–∞—Ç–∞ –∫—Ä–æ–≤–ª–∏'], st.session_state['–î–´–ú–û–ó–û–† —Ä–µ–≥–∏–æ–Ω —Å–Ω–µ–≥–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏'] if st.session_state["–î–´–ú–û–ó–û–† —Å–µ—Ä–∏—è"][-3:]!="300" else st.session_state['–î–´–ú–û–ó–û–† –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø—Ä–∏–≤–æ–¥–∞'], st.session_state["–¢–∏–ø –∫—Ä—ã—à–∫–∏"], st.session_state["–î–´–ú–û–ó–û–† –æ–ø—Ü–∏—è"], st.session_state["–û–ü–¶–ò–Ø –ü–†–ò–¢–û–ö–ê"], "", ""]}), HEADER=True, START=0) ,file_name= f'–¥—ã–º–æ–≤—ã–µ_–ª—é–∫–∏{suffi}.xlsx')
except:
    pass
